# 섹션 2. Django의 기본 구조
## 간단한 웹 페이지 띄우기
* `views.py` : 웹 화면에 어떤 데이터를 보여줄 것인지를 정의하는 파일
* `urls.py` : 웹 사이트의 url과 각 웹 화면(페이지)를 연결(매핑) 정의하는 파일. 한 사이트의 도메인 이하 url을 웹앱의 path라고도 하는데 이렇게 어떤 화면으로 연결될지 정의하고 연결해주는 것을 라우팅이라고 한다. (route)

1. views.py에 화면의 응답을 돌려주는 메소드를 작성
```python
from django.shortcuts import render
from djnago.http import HttpResponse

def index(request):
    return HttpResponse("Hello world.")
```
2. urls.py에 해당 메소드를 url과 연결한다.
```python
from djnago.contrib import admin
from djnago.urls import path

from first import views ## views.py 파일을 임포트한다.

urlpatterns = [
    path('', views.index, name='index'), ## views 파일의 index 메소드에 연결, url을 아무것도 입력하지 않아서 바로 보여지는 페이지는 index => root path
    path('admin/', admin.site.urls),
]
```

3. 터미널에서 서버를 실행한다.  
python manage.py runserver

### 웹앱을 여러개 생성할 때의 유지보수를 높이는 방법
> 각 앱에 base path를 지정하고 유지보수를 용이하게 하기 위해 각 웹앱에 urls 라우팅 파일을 정의하고</br>그 파일을 base path에 매핑되도록 한다.

1. 웹앱 폴더 내에 urls.py 생성
```python
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
]
```
2. firstdjango폴더 기존 urls.py 수정
```python
from django.contrib import admin
from django.urls import include, path

urlpatterns = [
    path('', include('first.urls')), ## views 파일의 index메소드에 연결
    path('admin/', admin.site.urls),
]
```

## 여러 페이지 띄우기
1. views.py에 새로운 메소드를 추가한다.
```python
from django.shortcuts import render
from django.http import HttpResponse

def index(request):
    return HttpResponse("Hello world.")

def select(request):
    message='수 하나를 입력해주세요.'
    return HttpResponse(message)
  
def result(request):
    message='추첨 결과입니다.'
    return HttpResponse(message)
```
2. first/urls.py에 주소를 연결한다.
```python
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
    path('select/', views.select, name='select'),
    path('result/', views.result, name='result'),
]
```
3. 서버에 접속하여 각 주소로 들어간다.
- http://127.0.0.1:8000/select/
- http://127.0.0.1:8000/result/

## URL 맵핑 규칙

```python
urlpatterns = [
    path('articles/2003/', views.special_case_2003),
    path('articles/<int:year>/', views.year_archive),
    path('articles/<int:year>/<int:month>/', views.month_archive),
    path('articles/<int:year>/<int:month>/<slug:slug>/', views.article_detail),
]
```

```python
urlpatterns = [
    re_path(r'^articles/(?P<year>[0-9]{4}/$', views.year_archive),
    re_path(r'^articles/(?P<year>[0-9]{4}/$(?P<month>[0-9]{2}/$', views.month_archive),
    re_path(r'^articles/(?P<year>[0-9]{4}/(?P<month>[0-9]{2}/(?P<slug>[/w-]+)/$', views.article_detai),
]
```
## 템플릿 기본 (변수 넘기기)
> 장고 템플릿을 사용해서 html파일과 views.py를 연동

1. 웹 앱 폴더(first) 내에 templates 폴더를 생성 후 html 파일 추가
first/templates/index.html

2. views.py에 django.tmeplate의 loader를 임포트하고 template를 연결
```python
from django.template import loader ## 추가

def index(request):
    template = loader.get_template('index.html') ## 수정
    context = {}
    return HttpResponse(template.render(context, request)) ## 수정
```
3. Setting.py에는 템플릿 파일 인식을 위해 웹 앱을 INSTALLED_APPS에 추가
```python 
# Application definition
```
## 스태틱 파일 띄우기
## 로또 번호 출력 페이지 만들기
